(()=>{var e={};e.id=5105,e.ids=[5105],e.modules={1994:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]])},2594:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Bluetooth",[["path",{d:"m7 7 10 10-5 5V2l5 5L7 17",key:"1q5490"}]])},3044:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]])},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10510:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]])},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},24413:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]])},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},30920:(e,s,t)=>{"use strict";t.d(s,{Nt:()=>x,at:()=>m});var a=t(60687),r=t(43210),i=t(48482),n=t(38246),l=t(57359),c=t(96241);let d={light:"",dark:".dark"},o=r.createContext(null);function h(){let e=r.useContext(o);if(!e)throw Error("useChart must be used within a <ChartContainer />");return e}let m=r.forwardRef(({id:e,className:s,children:t,config:n,...l},d)=>{let h=r.useId(),m=`chart-${e||h.replace(/:/g,"")}`;return(0,a.jsx)(o.Provider,{value:{config:n},children:(0,a.jsxs)("div",{"data-chart":m,ref:d,className:(0,c.cn)("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",s),...l,children:[(0,a.jsx)(u,{id:m,config:n}),(0,a.jsx)(i.u,{children:t})]})})});m.displayName="Chart";let u=({id:e,config:s})=>{let t=Object.entries(s).filter(([e,s])=>s.theme||s.color);return t.length?(0,a.jsx)("style",{dangerouslySetInnerHTML:{__html:Object.entries(d).map(([s,a])=>`
${a} [data-chart=${e}] {
${t.map(([e,t])=>{let a=t.theme?.[s]||t.color;return a?`  --color-${e}: ${a};`:null}).join("\n")}
}
`).join("\n")}}):null};function x({active:e,payload:s,label:t,indicator:r="line"}){return e&&s?.length?(0,a.jsx)("div",{className:"rounded-lg border bg-background p-2 shadow-sm",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-[0.70rem] uppercase text-muted-foreground",children:"Time"}),(0,a.jsx)("span",{className:"font-bold text-xs",children:t})]}),s.map(e=>(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-[0.70rem] uppercase text-muted-foreground",children:e.name}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:["line"===r?(0,a.jsx)("div",{className:"h-1 w-4 rounded-full",style:{backgroundColor:`var(--color-${e.name.toLowerCase()})`}}):(0,a.jsx)("div",{className:"h-2 w-2 rounded-full",style:{backgroundColor:`var(--color-${e.name.toLowerCase()})`}}),(0,a.jsx)("span",{className:"font-bold text-xs",children:e.value})]})]},e.name))]})}):null}function p(e,s,t){if("object"!=typeof s||null===s)return;let a="payload"in s&&"object"==typeof s.payload&&null!==s.payload?s.payload:void 0,r=t;return t in s&&"string"==typeof s[t]?r=s[t]:a&&t in a&&"string"==typeof a[t]&&(r=a[t]),r in e?e[r]:e[t]}n.m,r.forwardRef(({active:e,payload:s,className:t,indicator:i="dot",hideLabel:n=!1,hideIndicator:l=!1,label:d,labelFormatter:o,labelClassName:m,formatter:u,color:x,nameKey:f,labelKey:j},v)=>{let{config:y}=h(),g=r.useMemo(()=>{if(n||!s?.length)return null;let[e]=s,t=`${j||e.dataKey||e.name||"value"}`,r=p(y,e,t),i=j||"string"!=typeof d?r?.label:y[d]?.label||d;return o?(0,a.jsx)("div",{className:(0,c.cn)("font-medium",m),children:o(i,s)}):i?(0,a.jsx)("div",{className:(0,c.cn)("font-medium",m),children:i}):null},[d,o,s,n,m,y,j]);if(!e||!s?.length)return null;let b=1===s.length&&"dot"!==i;return(0,a.jsxs)("div",{ref:v,className:(0,c.cn)("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",t),children:[b?null:g,(0,a.jsx)("div",{className:"grid gap-1.5",children:s.map((e,s)=>{let t=`${f||e.name||e.dataKey||"value"}`,r=p(y,e,t),n=x||e.payload.fill||e.color;return(0,a.jsx)("div",{className:(0,c.cn)("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground","dot"===i&&"items-center"),children:u&&e?.value!==void 0&&e.name?u(e.value,e.name,e,s,e.payload):(0,a.jsxs)(a.Fragment,{children:[r?.icon?(0,a.jsx)(r.icon,{}):!l&&(0,a.jsx)("div",{className:(0,c.cn)("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":"dot"===i,"w-1":"line"===i,"w-0 border-[1.5px] border-dashed bg-transparent":"dashed"===i,"my-0.5":b&&"dashed"===i}),style:{"--color-bg":n,"--color-border":n}}),(0,a.jsxs)("div",{className:(0,c.cn)("flex flex-1 justify-between leading-none",b?"items-end":"items-center"),children:[(0,a.jsxs)("div",{className:"grid gap-1.5",children:[b?g:null,(0,a.jsx)("span",{className:"text-muted-foreground",children:r?.label||e.name})]}),e.value&&(0,a.jsx)("span",{className:"font-mono font-medium tabular-nums text-foreground",children:e.value.toLocaleString()})]})]})},e.dataKey)})})]})}).displayName="ChartTooltip",l.s,r.forwardRef(({className:e,hideIcon:s=!1,payload:t,verticalAlign:r="bottom",nameKey:i},n)=>{let{config:l}=h();return t?.length?(0,a.jsx)("div",{ref:n,className:(0,c.cn)("flex items-center justify-center gap-4","top"===r?"pb-3":"pt-3",e),children:t.map(e=>{let t=`${i||e.dataKey||"value"}`,r=p(l,e,t);return(0,a.jsxs)("div",{className:(0,c.cn)("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[r?.icon&&!s?(0,a.jsx)(r.icon,{}):(0,a.jsx)("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:e.color}}),r?.label]},e.value)})}):null}).displayName="ChartLegend"},31158:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},33873:e=>{"use strict";e.exports=require("path")},36999:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]])},43649:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},50733:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>h,pages:()=>o,routeModule:()=>m,tree:()=>d});var a=t(65239),r=t(48088),i=t(88170),n=t.n(i),l=t(30893),c={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(s,c);let d={children:["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,64118)),"C:\\Users\\Mtlantla\\Desktop\\EmberCore\\Dev_RP3_c\\Node-APPS\\iot-application\\app\\dashboard\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,58014)),"C:\\Users\\Mtlantla\\Desktop\\EmberCore\\Dev_RP3_c\\Node-APPS\\iot-application\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,o=["C:\\Users\\Mtlantla\\Desktop\\EmberCore\\Dev_RP3_c\\Node-APPS\\iot-application\\app\\dashboard\\page.tsx"],h={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},51939:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]])},55146:(e,s,t)=>{"use strict";t.d(s,{B8:()=>$,UC:()=>D,bL:()=>M,l9:()=>R});var a=t(43210),r=t(70569),i=t(11273),n=t(72942),l=t(46059),c=t(14163),d=t(43),o=t(65551),h=t(96963),m=t(60687),u="Tabs",[x,p]=(0,i.A)(u,[n.RG]),f=(0,n.RG)(),[j,v]=x(u),y=a.forwardRef((e,s)=>{let{__scopeTabs:t,value:a,onValueChange:r,defaultValue:i,orientation:n="horizontal",dir:l,activationMode:u="automatic",...x}=e,p=(0,d.jH)(l),[f,v]=(0,o.i)({prop:a,onChange:r,defaultProp:i});return(0,m.jsx)(j,{scope:t,baseId:(0,h.B)(),value:f,onValueChange:v,orientation:n,dir:p,activationMode:u,children:(0,m.jsx)(c.sG.div,{dir:p,"data-orientation":n,...x,ref:s})})});y.displayName=u;var g="TabsList",b=a.forwardRef((e,s)=>{let{__scopeTabs:t,loop:a=!0,...r}=e,i=v(g,t),l=f(t);return(0,m.jsx)(n.bL,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:a,children:(0,m.jsx)(c.sG.div,{role:"tablist","aria-orientation":i.orientation,...r,ref:s})})});b.displayName=g;var N="TabsTrigger",w=a.forwardRef((e,s)=>{let{__scopeTabs:t,value:a,disabled:i=!1,...l}=e,d=v(N,t),o=f(t),h=A(d.baseId,a),u=C(d.baseId,a),x=a===d.value;return(0,m.jsx)(n.q7,{asChild:!0,...o,focusable:!i,active:x,children:(0,m.jsx)(c.sG.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":u,"data-state":x?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:h,...l,ref:s,onMouseDown:(0,r.m)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(a)}),onKeyDown:(0,r.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(a)}),onFocus:(0,r.m)(e.onFocus,()=>{let e="manual"!==d.activationMode;x||i||!e||d.onValueChange(a)})})})});w.displayName=N;var k="TabsContent",S=a.forwardRef((e,s)=>{let{__scopeTabs:t,value:r,forceMount:i,children:n,...d}=e,o=v(k,t),h=A(o.baseId,r),u=C(o.baseId,r),x=r===o.value,p=a.useRef(x);return a.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,m.jsx)(l.C,{present:i||x,children:({present:t})=>(0,m.jsx)(c.sG.div,{"data-state":x?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":h,hidden:!t,id:u,tabIndex:0,...d,ref:s,style:{...e.style,animationDuration:p.current?"0s":void 0},children:t&&n})})});function A(e,s){return`${e}-trigger-${s}`}function C(e,s){return`${e}-content-${s}`}S.displayName=k;var M=y,$=b,R=w,D=S},55192:(e,s,t)=>{"use strict";t.d(s,{BT:()=>d,Wu:()=>o,ZB:()=>c,Zp:()=>n,aR:()=>l,wL:()=>h});var a=t(60687),r=t(43210),i=t(96241);let n=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...s}));n.displayName="Card";let l=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...s}));l.displayName="CardHeader";let c=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));c.displayName="CardTitle";let d=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",e),...s}));d.displayName="CardDescription";let o=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent";let h=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",e),...s}));h.displayName="CardFooter"},56104:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>eS});var a=t(60687);class r{constructor(){this.metrics=null,this.refreshInterval=null,this.refreshRate=500,this.listeners=[],this.metrics={cpu:{usage:0},memory:{total:0,used:0,free:0},storage:{total:0,used:0,free:0},temperature:{cpu:0},uptime:{days:0,hours:0,minutes:0},services:[]}}static getInstance(){return r.instance||(r.instance=new r),r.instance}startMetricsPolling(e=500){this.stopMetricsPolling(),this.refreshRate=e,console.log(`Starting system metrics polling with refresh rate: ${e}ms`),this.fetchMetrics(),this.refreshInterval=setInterval(()=>{this.fetchMetrics()},this.refreshRate)}stopMetricsPolling(){this.refreshInterval&&(console.log("Stopping system metrics polling"),clearInterval(this.refreshInterval),this.refreshInterval=null)}async fetchMetrics(){try{let e=await fetch("/api/system/metrics",{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store"});if(!e.ok)throw Error(`Error fetching metrics: ${e.status}`);let s=await e.json();s.success&&s.metrics&&(this.metrics=s.metrics,this.notifyListeners())}catch(e){console.error("Error fetching system metrics:",e)}}getMetrics(){return this.metrics}addListener(e){this.listeners.push(e)}removeListener(e){this.listeners=this.listeners.filter(s=>s!==e)}notifyListeners(){this.metrics&&this.listeners.forEach(e=>{try{e(this.metrics)}catch(e){console.error("Error in metrics listener:",e)}})}getRefreshRate(){return this.refreshRate}}var i=t(43210),n=t(62688);let l=(0,n.A)("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);var c=t(10510),d=t(3044);let o=(0,n.A)("CirclePower",[["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M7.998 9.003a5 5 0 1 0 8-.005",key:"1pek45"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),h=({children:e})=>(0,a.jsx)("div",{className:"rounded-lg border bg-card text-card-foreground shadow-sm",children:e}),m=({className:e,children:s})=>(0,a.jsx)("div",{className:`flex flex-col space-y-1.5 p-6 ${e||""}`,children:s}),u=({children:e})=>(0,a.jsx)("h3",{className:"text-2xl font-semibold leading-none tracking-tight",children:e}),x=({children:e})=>(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e}),p=({className:e,children:s})=>(0,a.jsx)("div",{className:`p-6 pt-0 ${e||""}`,children:s}),f=({value:e,className:s})=>(0,a.jsx)("div",{className:`relative h-4 w-full overflow-hidden rounded-full bg-secondary ${s||""}`,children:(0,a.jsx)("div",{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}),j=({className:e,children:s})=>(0,a.jsx)("span",{className:`px-2 py-1 text-xs rounded-full ${e||""}`,children:s});function v(){let[e,s]=(0,i.useState)({cpu:{usage:0},memory:{total:0,used:0,free:0},storage:{total:0,used:0,free:0},temperature:{cpu:0},uptime:{days:0,hours:0,minutes:0}}),[t,r]=(0,i.useState)("healthy"),n=e.memory.total/1024,v=e.memory.used/1024,y=e.memory.total>0?e.memory.used/e.memory.total*100:0,g=e.storage.total>0?e.storage.used/e.storage.total*100:0;return(0,a.jsxs)(h,{children:[(0,a.jsxs)(m,{className:"pb-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(u,{children:"System Status"}),(0,a.jsx)(j,{className:"healthy"===t?"bg-green-500":"warning"===t?"bg-amber-500":"bg-red-500",children:"healthy"===t?"Healthy":"warning"===t?"Warning":"Critical"})]}),(0,a.jsx)(x,{children:"CM4-IO-WIRELESS-BASE with Raspberry Pi CM4"})]}),(0,a.jsx)(p,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(c.A,{className:"h-4 w-4 text-blue-500"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"CPU Usage"})]}),(0,a.jsxs)("span",{className:"text-sm",children:[e.cpu.usage.toFixed(1),"%"]})]}),(0,a.jsx)(f,{value:e.cpu.usage,className:"h-2"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(l,{className:"h-4 w-4 text-purple-500"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Memory"})]}),(0,a.jsxs)("span",{className:"text-sm",children:[v.toFixed(1)," GB / ",n.toFixed(1)," GB"]})]}),(0,a.jsx)(f,{value:y,className:"h-2"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(l,{className:"h-4 w-4 text-amber-500"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Storage"})]}),(0,a.jsxs)("span",{className:"text-sm",children:[e.storage.used.toFixed(1)," GB / ",e.storage.total.toFixed(1)," GB"]})]}),(0,a.jsx)(f,{value:g,className:"h-2"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(d.A,{className:"h-4 w-4 text-red-500"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Temperature"})]}),(0,a.jsxs)("span",{className:"text-sm",children:[e.temperature.cpu,"\xb0C"]})]}),(0,a.jsx)(f,{value:e.temperature.cpu,max:100,className:"h-2"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o,{className:"h-4 w-4 text-green-500"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Uptime"})]}),(0,a.jsxs)("span",{className:"text-sm",children:[e.uptime.days,"d ",e.uptime.hours,"h ",e.uptime.minutes,"m"]})]})]})})]})}var y=t(55192),g=t(78122),b=t(87891),N=t(2594),w=t(1994),k=t(51939),S=t(59821),A=t(24934),C=t(96241);function M({className:e,...s}){return(0,a.jsx)("div",{className:(0,C.cn)("animate-pulse rounded-md bg-muted",e),...s})}var $=t(80189),R=t(71702);function D(){let{toast:e}=(0,R.d)(),[s,t]=(0,i.useState)(!0),[r,n]=(0,i.useState)(!1),[l,o]=(0,i.useState)(null),[h,m]=(0,i.useState)(null),u=async()=>{s||n(!0),m(null);try{let t=await fetch("/api/devices/count");if(!t.ok)throw Error(`Error ${t.status}: ${t.statusText}`);let a=await t.json();o(a),!s&&r&&e({title:"Device counts refreshed",description:"Connected device information has been updated."})}catch(a){let t=a instanceof Error?a.message:"Failed to fetch device counts";m(t),s||e({title:"Refresh failed",description:t,variant:"destructive"})}finally{t(!1),n(!1)}},x=({icon:e,label:t,count:r,color:i})=>(0,a.jsxs)($.m_,{children:[(0,a.jsx)($.k$,{asChild:!0,children:(0,a.jsxs)("div",{className:"flex items-center justify-between hover:bg-accent hover:text-accent-foreground p-2 rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(e,{className:`h-4 w-4 ${i}`}),(0,a.jsx)("span",{className:"text-sm font-medium",children:t})]}),s?(0,a.jsx)(M,{className:"h-5 w-12 rounded"}):(0,a.jsx)(S.E,{variant:r&&r>0?"outline":"secondary",children:void 0!==r?`${r} device${1!==r?"s":""}`:"Unknown"})]})}),(0,a.jsx)($.ZI,{side:"right",children:(0,a.jsx)("p",{className:"text-xs",children:p(t,r)})})]}),p=(e,s)=>void 0===s?`Unable to detect ${e} devices`:0===s?`No ${e} devices detected`:1===s?`1 ${e} device connected`:`${s} ${e} devices connected`;return(0,a.jsxs)(y.Zp,{children:[(0,a.jsxs)(y.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(y.ZB,{children:"Device Overview"}),(0,a.jsx)(y.BT,{children:"Connected devices by protocol"})]}),(0,a.jsxs)(A.$,{variant:"outline",size:"sm",onClick:u,disabled:s||r,children:[(0,a.jsx)(g.A,{className:`h-4 w-4 mr-1 ${r?"animate-spin":""}`}),r?"Refreshing":"Refresh"]})]}),(0,a.jsx)(y.Wu,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(x,{icon:b.A,label:"Wi-Fi",count:l?.counts.wifi,color:"text-blue-500"}),(0,a.jsx)(x,{icon:N.A,label:"Bluetooth",count:l?.counts.bluetooth,color:"text-indigo-500"}),(0,a.jsx)(x,{icon:w.A,label:"Ethernet",count:l?.counts.ethernet,color:"text-green-500"}),(0,a.jsx)(x,{icon:c.A,label:"I2C",count:l?.counts.i2c,color:"text-amber-500"}),(0,a.jsx)(x,{icon:k.A,label:"SPI",count:l?.counts.spi,color:"text-red-500"}),(0,a.jsx)(x,{icon:d.A,label:"Sensors",count:l?.counts.sensors,color:"text-purple-500"})]})})]})}var I=t(61611),E=t(58559),P=t(11437),T=t(24413);let B=(0,n.A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),_=(0,n.A)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),L=(0,n.A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),z=[{name:"can0-interface",description:"CAN0 Interface Setup",status:"unknown"},{name:"influxdb",description:"InfluxDB Time Series Database",status:"unknown"},{name:"mongod",description:"MongoDB Database Server",status:"unknown"},{name:"grafana-server",description:"Grafana Dashboard",status:"unknown"},{name:"nginx",description:"Web Server",status:"unknown"},{name:"webmin",description:"Webmin Administration",status:"unknown"}];function O(){let{data:e,isLoading:s,error:t,refresh:r}=function(){let[e,s]=(0,i.useState)(null),[t,a]=(0,i.useState)(!0),[r,n]=(0,i.useState)(null),[l,c]=(0,i.useState)(new Date),d=async()=>{try{a(!0);let e=await fetch("/api/system/metrics");if(!e.ok)throw Error(`Failed to fetch metrics: ${e.statusText}`);let t=await e.json();s(t.metrics||t),n(null)}catch(e){console.error("Error fetching system metrics:",e),n(e)}finally{a(!1),c(new Date)}};return{data:e,isLoading:t,error:r,lastUpdated:l,refresh:()=>{d()}}}(),[n,l]=(0,i.useState)(0),d=e=>{let s=e.toLowerCase();return s.includes("mongo")||s.includes("influx")?I.A:s.includes("grafana")?E.A:s.includes("nginx")?P.A:s.includes("webmin")?T.A:s.includes("spi")||s.includes("i2c")||s.includes("can")?c.A:T.A},o=e?.services?.length>0?e.services:z;return(0,a.jsxs)(y.Zp,{className:"h-full",children:[(0,a.jsxs)(y.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(y.ZB,{className:"text-sm font-medium",children:"System Services"}),(0,a.jsxs)("div",{className:"flex items-center",children:[s&&(0,a.jsx)(B,{className:"h-3.5 w-3.5 text-muted-foreground animate-spin mr-2"}),(0,a.jsx)(_,{className:"h-4 w-4 text-muted-foreground"})]})]}),(0,a.jsx)(y.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[o.map(e=>{let s=d(e.name);return(0,a.jsxs)("div",{className:"flex items-center justify-between bg-background p-3 rounded-lg border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(s,{className:"h-4 w-4 text-blue-400"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description})]})]}),(0,a.jsx)(S.E,{className:`${"active"===e.status?"bg-green-500 hover:bg-green-600":"inactive"===e.status?"bg-gray-500 hover:bg-gray-600":"failed"===e.status?"bg-red-500 hover:bg-red-600":"activating"===e.status?"bg-blue-500 hover:bg-blue-600":"bg-amber-500 hover:bg-amber-600"}`,children:"active"===e.status?"Running":"activating"===e.status?"Activating":"inactive"===e.status?"Inactive":"failed"===e.status?"Failed":"Unknown"})]},e.name)}),t&&n>=3&&(0,a.jsx)("div",{className:"mt-4 p-2 bg-destructive/10 rounded-md",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 justify-center",children:[(0,a.jsx)(L,{className:"h-3.5 w-3.5 text-destructive"}),(0,a.jsx)("p",{className:"text-xs text-destructive text-center",children:t?.message||"Connection error"})]})})]})})]})}var W=t(43649);let F=(0,n.A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var U=t(69327);function Z(){let e=[{id:1,title:"CAN0 Interface Down",description:"CAN0 interface is not responding",time:"10 minutes ago",severity:"high",icon:W.A,color:"text-red-500",badge:"bg-red-500"},{id:2,title:"Temperature Sensor Warning",description:"Temperature above threshold (42\xb0C)",time:"25 minutes ago",severity:"medium",icon:L,color:"text-amber-500",badge:"bg-amber-500"},{id:3,title:"New Device Connected",description:"Temperature sensor connected via I2C",time:"1 hour ago",severity:"info",icon:F,color:"text-blue-500",badge:"bg-blue-500"},{id:4,title:"System Update Available",description:"New firmware update available",time:"3 hours ago",severity:"info",icon:F,color:"text-blue-500",badge:"bg-blue-500"}];return(0,a.jsxs)(y.Zp,{children:[(0,a.jsxs)(y.aR,{className:"pb-2",children:[(0,a.jsx)(y.ZB,{children:"Recent Alerts"}),(0,a.jsx)(y.BT,{children:"Latest system and device alerts"})]}),(0,a.jsx)(y.Wu,{children:(0,a.jsx)(U.ScrollArea,{className:"h-[220px] pr-4",children:(0,a.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,a.jsxs)("div",{className:"flex gap-3 pb-3 border-b last:border-0 last:pb-0",children:[(0,a.jsx)("div",{className:`mt-0.5 ${e.color}`,children:(0,a.jsx)(e.icon,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h4",{className:"text-sm font-medium",children:e.title}),(0,a.jsx)(S.E,{className:e.badge,children:e.severity})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:e.time})]})]},e.id))})})})]})}function q(){let{toast:e}=(0,R.d)(),[s,t]=(0,i.useState)(!0),[r,n]=(0,i.useState)(!1),[l,c]=(0,i.useState)(null),[d,o]=(0,i.useState)(null),h=async()=>{if(!r){n(!0),o(null);try{let a=await fetch("/api/network/status");if(!a.ok)throw Error(`Error ${a.status}: ${a.statusText}`);let r=await a.json();c(r),s?t(!1):e({title:"Network status refreshed",description:"Network information has been updated."})}catch(a){let t=a instanceof Error?a.message:"Failed to fetch network status";o(t),s||e({title:"Refresh failed",description:t,variant:"destructive"})}finally{n(!1)}}},m=()=>{h()};if(s)return(0,a.jsxs)(y.Zp,{children:[(0,a.jsxs)(y.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(y.ZB,{className:"text-xl font-bold",children:"Network Status"}),(0,a.jsx)(y.BT,{children:"Current network connections"})]}),(0,a.jsxs)(A.$,{variant:"outline",size:"sm",disabled:!0,children:[(0,a.jsx)(g.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading"]})]}),(0,a.jsx)(y.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:[1,2,3].map(e=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(M,{className:"h-5 w-[100px]"}),(0,a.jsx)(M,{className:"h-5 w-[80px]"})]}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)(M,{className:"h-4 w-[60px]"}),(0,a.jsx)(M,{className:"h-4 w-[100px]"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)(M,{className:"h-4 w-[40px]"}),(0,a.jsx)(M,{className:"h-4 w-[120px]"})]})]})]},e))})})]});if(d)return(0,a.jsxs)(y.Zp,{children:[(0,a.jsxs)(y.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(y.ZB,{className:"text-xl font-bold",children:"Network Status"}),(0,a.jsx)(y.BT,{children:"Current network connections"})]}),(0,a.jsxs)(A.$,{variant:"outline",size:"sm",onClick:m,disabled:r,children:[(0,a.jsx)(g.A,{className:`mr-2 h-4 w-4 ${r?"animate-spin":""}`}),"Refresh"]})]}),(0,a.jsx)(y.Wu,{children:(0,a.jsxs)("div",{className:"flex items-center justify-center p-6 text-red-500",children:[(0,a.jsx)(L,{className:"h-5 w-5 mr-2"}),(0,a.jsx)("span",{children:"Failed to load network status"})]})})]});let{wifi:u,ethernet:x,internet:p}=l?.networkStatus||{};return(0,a.jsxs)(y.Zp,{children:[(0,a.jsxs)(y.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(y.ZB,{className:"text-xl font-bold",children:"Network Status"}),(0,a.jsx)(y.BT,{children:"Current network connections"})]}),(0,a.jsxs)(A.$,{variant:"outline",size:"sm",onClick:m,disabled:r,children:[(0,a.jsx)(g.A,{className:`mr-2 h-4 w-4 ${r?"animate-spin":""}`}),"Refresh"]})]}),(0,a.jsx)(y.Wu,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(b.A,{className:"h-4 w-4 text-blue-500"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Wi-Fi"})]}),(0,a.jsx)(S.E,{className:u?.connected?"bg-green-500":"bg-gray-500",children:u?.connected?"Connected":"Disconnected"})]}),u?.connected&&(0,a.jsxs)("div",{className:"pl-6 text-xs text-muted-foreground space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"SSID:"}),(0,a.jsx)("span",{children:u?.ssid||"Unknown"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"IP:"}),(0,a.jsx)("span",{children:u?.ipAddress||"Not assigned"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Signal:"}),(0,a.jsx)("span",{children:u?.signalStrength?`${u.signalStrength} dBm`:"Unknown"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(w.A,{className:"h-4 w-4 text-green-500"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Ethernet"})]}),(0,a.jsx)(S.E,{className:x?.connected?"bg-green-500":"bg-gray-500",children:x?.connected?"Connected":"Disconnected"})]}),x?.connected&&(0,a.jsxs)("div",{className:"pl-6 text-xs text-muted-foreground space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"IP:"}),(0,a.jsx)("span",{children:x?.ipAddress||"Not assigned"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Speed:"}),(0,a.jsx)("span",{children:x?.speed||"Unknown"})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(P.A,{className:"h-4 w-4 text-orange-500"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"Internet"})]}),(0,a.jsx)(S.E,{className:p?.connected?"bg-green-500":"bg-gray-500",children:p?.connected?"Connected":"Disconnected"})]}),p?.connected&&(0,a.jsxs)("div",{className:"pl-6 text-xs text-muted-foreground space-y-1",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Status:"}),(0,a.jsx)("span",{children:p?.status||"Unknown"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"Ping:"}),(0,a.jsx)("span",{children:p?.ping?`${p.ping} ms`:"Unknown"})]})]})]})})]})}var G=t(16189),K=t(96474),H=t(31158),V=t(97051);let X=(0,n.A)("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);function Q(){let e=(0,G.useRouter)(),{toast:s}=(0,R.d)(),[t,r]=(0,i.useState)(!1),[n,l]=(0,i.useState)(!1),[c,d]=(0,i.useState)(!1),[o,h]=(0,i.useState)(!1),m=async()=>{r(!0);try{let t=await fetch("/api/system/refresh",{method:"POST",headers:{"Content-Type":"application/json"}}),a=await t.json();if(!a.success)throw Error(a.message||"Failed to refresh data");e.refresh(),s({title:"Data Refreshed",description:`Dashboard data has been updated: ${a.refreshed?.join(", ")}.`})}catch(e){console.error("Error refreshing data:",e),s({title:"Refresh Failed",description:e instanceof Error?e.message:"There was an error refreshing the data.",variant:"destructive"})}finally{r(!1)}},u=async()=>{l(!0);try{await new Promise(e=>setTimeout(e,1500));let e=`
[${new Date().toISOString()}] System started
[${new Date().toISOString()}] MongoDB connected
[${new Date().toISOString()}] InfluxDB connected
[${new Date().toISOString()}] Grafana service running
[${new Date().toISOString()}] Nginx service running
[${new Date().toISOString()}] Webmin service running
[${new Date().toISOString()}] SPI interface active
[${new Date().toISOString()}] I2C interface active
[${new Date().toISOString()}] CAN0 interface inactive
[${new Date().toISOString()}] Temperature sensor reading: 42\xb0C
[${new Date().toISOString()}] Pressure sensor reading: 1013.2 hPa
[${new Date().toISOString()}] Flow sensor reading: 2.3 L/min
[${new Date().toISOString()}] Smart Light Controller status: On (75%)
[${new Date().toISOString()}] Motor Controller status: Off
[${new Date().toISOString()}] Gateway Node status: Active
[${new Date().toISOString()}] Bluetooth Beacon status: Connected
      `.trim(),t=new Blob([e],{type:"text/plain"}),a=URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download=`system-logs-${new Date().toISOString().split("T")[0]}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(a),s({title:"Logs Exported",description:"System logs have been exported successfully."})}catch(e){s({title:"Export Failed",description:"There was an error exporting the logs.",variant:"destructive"})}finally{l(!1)}},x=async()=>{d(!0);try{let t=await fetch("/api/alerts/clear",{method:"POST",headers:{"Content-Type":"application/json"}}),a=await t.json();if(!a.success)throw Error(a.message||"Failed to clear alerts");s({title:"Alerts Cleared",description:`${a.count} system ${1===a.count?"alert has":"alerts have"} been cleared.`}),e.refresh()}catch(e){console.error("Error clearing alerts:",e),s({title:"Clear Failed",description:e instanceof Error?e.message:"There was an error clearing the alerts.",variant:"destructive"})}finally{d(!1)}},p=async()=>{h(!0);try{s({title:"Restarting Services",description:"Attempting to restart all system services..."});let t=await fetch("/api/services/restart",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({services:["mongodb","influxd","grafana-server","nginx","webmin"]})}),a=await t.json();if(!a.success)throw Error(a.message||"Failed to restart services");let r=a.results?a.results.filter(e=>!e.success).map(e=>e.service):[];r.length>0?s({title:"Partial Service Restart",description:`Some services failed to restart: ${r.join(", ")}`,variant:"destructive"}):s({title:"Services Restarted",description:"All system services have been restarted successfully."}),e.refresh()}catch(e){console.error("Error restarting services:",e),s({title:"Restart Failed",description:e instanceof Error?e.message:"There was an error restarting the services.",variant:"destructive"})}finally{h(!1)}};return(0,a.jsxs)(y.Zp,{children:[(0,a.jsxs)(y.aR,{className:"pb-2",children:[(0,a.jsx)(y.ZB,{children:"Quick Actions"}),(0,a.jsx)(y.BT,{children:"Common system operations"})]}),(0,a.jsx)(y.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,a.jsxs)(A.$,{variant:"outline",size:"sm",className:"h-9 justify-start",onClick:()=>{e.push("/devices/add"),s({title:"Add Device",description:"Navigating to device creation page."})},children:[(0,a.jsx)(K.A,{className:"mr-2 h-4 w-4"}),"Add Device"]}),(0,a.jsxs)(A.$,{variant:"outline",size:"sm",className:"h-9 justify-start",onClick:m,disabled:t,children:[(0,a.jsx)(g.A,{className:`mr-2 h-4 w-4 ${t?"animate-spin":""}`}),"Refresh Data"]}),(0,a.jsxs)(A.$,{variant:"outline",size:"sm",className:"h-9 justify-start",onClick:u,disabled:n,children:[(0,a.jsx)(H.A,{className:"mr-2 h-4 w-4"}),n?"Exporting...":"Export Logs"]}),(0,a.jsxs)(A.$,{variant:"outline",size:"sm",className:"h-9 justify-start",onClick:x,disabled:c,children:[(0,a.jsx)(V.A,{className:"mr-2 h-4 w-4"}),c?"Clearing...":"Clear Alerts"]}),(0,a.jsxs)(A.$,{variant:"outline",size:"sm",className:"h-9 justify-start col-span-2",onClick:p,disabled:o,children:[(0,a.jsx)(X,{className:"mr-2 h-4 w-4"}),o?"Restarting...":"Restart Services"]})]})})]})}let J=(0,n.A)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);function Y(){let e=(0,G.useRouter)(),{toast:s}=(0,R.d)(),[t,r]=(0,i.useState)(!1),n=async()=>{r(!0);try{await new Promise(e=>setTimeout(e,1e3)),e.refresh(),s({title:"Dashboard refreshed",description:"All dashboard data has been updated."})}catch(e){s({title:"Refresh failed",description:"There was an error refreshing the dashboard.",variant:"destructive"})}finally{r(!1)}};return(0,a.jsxs)("div",{className:"flex flex-col space-y-2 md:flex-row md:items-center md:justify-between md:space-y-0",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:"Dashboard"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Overview of your CM4-IO-WIRELESS-BASE system and connected devices"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(A.$,{variant:"outline",size:"sm",onClick:n,disabled:t,children:[(0,a.jsx)(g.A,{className:`mr-2 h-4 w-4 ${t?"animate-spin":""}`}),"Refresh"]}),(0,a.jsxs)(A.$,{onClick:()=>{e.push("/devices/add"),s({title:"Add Device",description:"Navigating to device creation page."})},children:[(0,a.jsx)(J,{className:"mr-2 h-4 w-4"}),"Add Device"]})]})]})}var ee=t(85910),es=t(48482),et=t(61678),ea=t(85168),er=t(27747),ei=t(9920),en=t(38246),el=t(50326),ec=t(61855),ed=t(49481),eo=t(2041),eh=t(48888),em=t(30920);let eu=(e=24)=>Array.from({length:e},(e,s)=>({time:`${(s%24).toString().padStart(2,"0")}:00`,temperature:Math.round((20+5*Math.sin(s/3)+2*Math.random())*10)/10,humidity:Math.round((50+15*Math.cos(s/3)+5*Math.random())*10)/10,pressure:Math.round((1010+10*Math.sin(s/6)+3*Math.random())*10)/10,cpu:Math.round((15+10*Math.sin(s/2)+5*Math.random())*10)/10,memory:Math.round((30+15*Math.cos(s/4)+10*Math.random())*10)/10})),ex=eu(),ep=eu(),ef=eu(7).map((e,s)=>({...e,day:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][s]}));function ej(){let[e,s]=(0,i.useState)("line");return(0,a.jsxs)(y.Zp,{className:"col-span-2",children:[(0,a.jsxs)(y.aR,{children:[(0,a.jsx)(y.ZB,{children:"System Metrics"}),(0,a.jsx)(y.BT,{children:"Performance metrics over time"})]}),(0,a.jsx)(y.Wu,{children:(0,a.jsxs)(ee.tU,{defaultValue:"line",onValueChange:s,children:[(0,a.jsxs)(ee.j7,{className:"mb-4",children:[(0,a.jsx)(ee.Xi,{value:"line",children:"Line Chart"}),(0,a.jsx)(ee.Xi,{value:"area",children:"Area Chart"}),(0,a.jsx)(ee.Xi,{value:"bar",children:"Bar Chart"}),(0,a.jsx)(ee.Xi,{value:"multi",children:"Multi-Line"})]}),(0,a.jsx)(ee.av,{value:"line",className:"h-[300px]",children:(0,a.jsx)(em.at,{config:{temperature:{label:"Temperature",color:"hsl(var(--chart-1))"}},children:(0,a.jsx)(es.u,{width:"100%",height:"100%",children:(0,a.jsxs)(et.b,{data:ex,children:[(0,a.jsx)(ea.d,{strokeDasharray:"3 3",vertical:!1}),(0,a.jsx)(er.W,{dataKey:"time"}),(0,a.jsx)(ei.h,{}),(0,a.jsx)(en.m,{content:(0,a.jsx)(em.Nt,{indicator:"line"})}),(0,a.jsx)(el.N,{type:"monotone",dataKey:"temperature",stroke:"var(--color-temperature)",strokeWidth:2,dot:!1,activeDot:{r:6}})]})})})}),(0,a.jsx)(ee.av,{value:"area",className:"h-[300px]",children:(0,a.jsx)(em.at,{config:{humidity:{label:"Humidity",color:"hsl(var(--chart-2))"}},children:(0,a.jsx)(es.u,{width:"100%",height:"100%",children:(0,a.jsxs)(ec.Q,{data:ep,children:[(0,a.jsx)(ea.d,{strokeDasharray:"3 3",vertical:!1}),(0,a.jsx)(er.W,{dataKey:"time"}),(0,a.jsx)(ei.h,{}),(0,a.jsx)(en.m,{content:(0,a.jsx)(em.Nt,{indicator:"line"})}),(0,a.jsx)(ed.G,{type:"monotone",dataKey:"humidity",stroke:"var(--color-humidity)",fill:"var(--color-humidity)",fillOpacity:.2})]})})})}),(0,a.jsx)(ee.av,{value:"bar",className:"h-[300px]",children:(0,a.jsx)(em.at,{config:{cpu:{label:"CPU Usage",color:"hsl(var(--chart-3))"}},children:(0,a.jsx)(es.u,{width:"100%",height:"100%",children:(0,a.jsxs)(eo.E,{data:ef,children:[(0,a.jsx)(ea.d,{strokeDasharray:"3 3",vertical:!1}),(0,a.jsx)(er.W,{dataKey:"day"}),(0,a.jsx)(ei.h,{}),(0,a.jsx)(en.m,{content:(0,a.jsx)(em.Nt,{indicator:"line"})}),(0,a.jsx)(eh.y,{dataKey:"cpu",fill:"var(--color-cpu)",radius:4})]})})})}),(0,a.jsx)(ee.av,{value:"multi",className:"h-[300px]",children:(0,a.jsx)(em.at,{config:{temperature:{label:"Temperature",color:"hsl(var(--chart-1))"},humidity:{label:"Humidity",color:"hsl(var(--chart-2))"},pressure:{label:"Pressure",color:"hsl(var(--chart-3))"}},children:(0,a.jsx)(es.u,{width:"100%",height:"100%",children:(0,a.jsxs)(et.b,{data:ex,children:[(0,a.jsx)(ea.d,{strokeDasharray:"3 3",vertical:!1}),(0,a.jsx)(er.W,{dataKey:"time"}),(0,a.jsx)(ei.h,{yAxisId:"left"}),(0,a.jsx)(ei.h,{yAxisId:"right",orientation:"right"}),(0,a.jsx)(en.m,{content:(0,a.jsx)(em.Nt,{indicator:"line"})}),(0,a.jsx)(el.N,{yAxisId:"left",type:"monotone",dataKey:"temperature",stroke:"var(--color-temperature)",strokeWidth:2,dot:!1}),(0,a.jsx)(el.N,{yAxisId:"left",type:"monotone",dataKey:"humidity",stroke:"var(--color-humidity)",strokeWidth:2,dot:!1}),(0,a.jsx)(el.N,{yAxisId:"right",type:"monotone",dataKey:"pressure",stroke:"var(--color-pressure)",strokeWidth:2,dot:!1})]})})})})]})})]})}var ev=t(34318);let ey=(0,n.A)("ServerCrash",[["path",{d:"M6 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-2",key:"4b9dqc"}],["path",{d:"M6 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-2",key:"22nnkd"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"m13 6-4 6h6l-4 6",key:"14hqih"}]]);var eg=t(36999);let eb=(0,n.A)("Usb",[["circle",{cx:"10",cy:"7",r:"1",key:"dypaad"}],["circle",{cx:"4",cy:"20",r:"1",key:"22iqad"}],["path",{d:"M4.7 19.3 19 5",key:"1enqfc"}],["path",{d:"m21 3-3 1 2 2Z",key:"d3ov82"}],["path",{d:"M9.26 7.68 5 12l2 5",key:"1esawj"}],["path",{d:"m10 14 5 2 3.5-3.5",key:"v8oal5"}],["path",{d:"m18 12 1-1 1 1-1 1Z",key:"1bh22v"}]]);var eN=t(79300);let ew=(0,n.A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);function ek(){let{toast:e}=(0,R.d)(),[s,t]=(0,i.useState)(!1),[r,n]=(0,i.useState)(!0),[l,d]=(0,i.useState)(null),[o,h]=(0,i.useState)(null),m=async()=>{t(!0),h(null);try{let s=await fetch("/api/hardware/status");if(!s.ok)throw Error(`Error ${s.status}: ${s.statusText}`);let t=await s.json();d(t),r?n(!1):e({title:"Hardware status refreshed",description:"Hardware status information has been updated."})}catch(t){let s=t instanceof Error?t.message:"Failed to fetch hardware status";h(s),r||e({title:"Refresh failed",description:s,variant:"destructive"})}finally{t(!1)}},u=({available:e,label:s,icon:t,details:r})=>(0,a.jsx)($.TooltipProvider,{children:(0,a.jsxs)($.m_,{children:[(0,a.jsx)($.k$,{asChild:!0,children:(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg border hover:bg-accent hover:text-accent-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(t,{className:`h-5 w-5 ${e?"text-green-500":"text-red-500"}`}),(0,a.jsx)("span",{children:s})]}),r?(0,a.jsx)(S.E,{variant:e?"outline":"destructive",className:"ml-2",children:r}):(0,a.jsx)("div",{className:`h-2 w-2 rounded-full ${e?"bg-green-500":"bg-red-500"}`})]})}),(0,a.jsxs)($.ZI,{side:"right",className:"max-w-sm",children:[(0,a.jsx)("p",{children:e?`${s} is available and working properly.`:`${s} is not available or not working properly.`}),r&&(0,a.jsx)("p",{className:"text-xs opacity-80 mt-1",children:r})]})]})});return r?(0,a.jsxs)(y.Zp,{children:[(0,a.jsxs)(y.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(y.ZB,{className:"text-xl font-bold",children:"Hardware Status"}),(0,a.jsx)(y.BT,{children:"Raspberry Pi hardware interfaces"})]}),(0,a.jsxs)(A.$,{variant:"outline",size:"sm",disabled:!0,children:[(0,a.jsx)(g.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Loading"]})]}),(0,a.jsx)(y.Wu,{children:(0,a.jsx)("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 lg:grid-cols-3",children:Array(6).fill(0).map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 rounded-lg border",children:[(0,a.jsx)(M,{className:"h-6 w-[120px]"}),(0,a.jsx)(M,{className:"h-4 w-4 rounded-full"})]},s))})})]}):(0,a.jsxs)(y.Zp,{children:[(0,a.jsxs)(y.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(y.ZB,{className:"text-xl font-bold",children:"Hardware Status"}),(0,a.jsx)(y.BT,{children:"Raspberry Pi hardware interfaces"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(A.$,{variant:"outline",size:"sm",onClick:()=>{m()},disabled:s,children:[(0,a.jsx)(g.A,{className:`mr-2 h-4 w-4 ${s?"animate-spin":""}`}),"Refresh"]}),(0,a.jsx)(A.$,{variant:"outline",size:"icon",children:(0,a.jsx)(ev.A,{className:"h-4 w-4"})})]})]}),(0,a.jsx)(y.Wu,{children:o?(0,a.jsxs)("div",{className:"flex items-center justify-center p-6 text-red-500",children:[(0,a.jsx)(ey,{className:"h-5 w-5 mr-2"}),(0,a.jsxs)("span",{children:["Error loading hardware status: ",o]})]}):(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 lg:grid-cols-3",children:[(0,a.jsx)(u,{available:l?.status.wifi.initialized||!1,label:"Wi-Fi Module",icon:eg.A,details:l?.status.wifi.status?.ipAddress||""}),(0,a.jsx)(u,{available:l?.status.bluetooth.available&&l?.status.bluetooth.powered||!1,label:"Bluetooth Module",icon:N.A,details:l?.status.bluetooth.controllerName||""}),(0,a.jsx)(u,{available:l?.status.can.initialized||!1,label:"CAN Interface",icon:eb}),(0,a.jsx)(u,{available:l?.status.i2c.available||!1,label:"I2C Buses",icon:eN.A,details:l?.status.i2c.buses?.length?`${l?.status.i2c.buses.length} bus(es)`:"None"}),(0,a.jsx)(u,{available:l?.status.spi.available||!1,label:"SPI Interfaces",icon:c.A,details:l?.status.spi.devices?.length?`${l?.status.spi.devices.length} device(s)`:"None"}),(0,a.jsx)(u,{available:l?.status.mongodb.connected||!1,label:"System Database",icon:ew}),(0,a.jsx)(u,{available:l?.status.influxdb.connected||!1,label:"Time-Series DB",icon:ew}),(0,a.jsx)(u,{available:l?.status.grafana.connected||!1,label:"Dashboard Service",icon:ew})]})})]})}function eS(){return(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsx)(Y,{}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,a.jsx)(v,{}),(0,a.jsx)(O,{}),(0,a.jsx)(Z,{})]}),(0,a.jsx)(ek,{}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsx)("div",{className:"lg:col-span-2",children:(0,a.jsx)(ej,{})}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(D,{}),(0,a.jsx)(q,{}),(0,a.jsx)(Q,{})]})]})]})}},61085:(e,s,t)=>{Promise.resolve().then(t.bind(t,64118))},61611:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64118:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\Mtlantla\\\\Desktop\\\\EmberCore\\\\Dev_RP3_c\\\\Node-APPS\\\\iot-application\\\\app\\\\dashboard\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\Mtlantla\\Desktop\\EmberCore\\Dev_RP3_c\\Node-APPS\\iot-application\\app\\dashboard\\page.tsx","default")},78122:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},85910:(e,s,t)=>{"use strict";t.d(s,{Xi:()=>d,av:()=>o,j7:()=>c,tU:()=>l});var a=t(60687),r=t(43210),i=t(55146),n=t(96241);let l=i.bL,c=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)(i.B8,{ref:t,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));c.displayName=i.B8.displayName;let d=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)(i.l9,{ref:t,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));d.displayName=i.l9.displayName;let o=r.forwardRef(({className:e,...s},t)=>(0,a.jsx)(i.UC,{ref:t,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));o.displayName=i.UC.displayName},87891:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]])},88701:(e,s,t)=>{Promise.resolve().then(t.bind(t,56104))},96474:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(62688).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[7719,5882,1944,9831,4942],()=>t(50733));module.exports=a})();