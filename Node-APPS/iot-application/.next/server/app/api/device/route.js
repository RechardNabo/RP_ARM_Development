(()=>{var e={};e.id=4320,e.ids=[4320],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},64252:(e,t,s)=>{"use strict";s.r(t),s.d(t,{patchFetch:()=>x,routeModule:()=>c,serverHooks:()=>m,workAsyncStorage:()=>l,workUnitAsyncStorage:()=>g});var r={};s.r(r),s.d(r,{GET:()=>u,POST:()=>d});var a=s(96559),n=s(48088),o=s(37719),i=s(32190);let p={"fan-01":{id:"fan-01",name:"Main Fan",type:"fan",power:!0,settings:{speed:50,oscillate:!0,mode:"normal"},lastUpdated:Date.now()},"light-01":{id:"light-01",name:"Room Light",type:"light",power:!0,settings:{brightness:75,colorTemp:4e3,rgb:"#FFFFFF"},lastUpdated:Date.now()},"thermo-01":{id:"thermo-01",name:"Thermostat",type:"thermostat",power:!0,settings:{targetTemp:22,mode:"auto",fanSpeed:"auto"},lastUpdated:Date.now()}};async function u(e){let t=e.nextUrl.searchParams.get("id");return t&&t in p?i.NextResponse.json({success:!0,data:p[t]}):i.NextResponse.json({success:!0,data:Object.values(p)})}async function d(e){try{let t=await e.json();if(!t.id)return i.NextResponse.json({success:!1,error:"Missing device ID"},{status:400});let{id:s,...r}=t;if(!(s in p))return i.NextResponse.json({success:!1,error:"Device not found"},{status:404});return void 0!==r.power&&(p[s].power=!!r.power),r.settings&&(p[s].settings={...p[s].settings,...r.settings}),p[s].lastUpdated=Date.now(),i.NextResponse.json({success:!0,data:p[s]})}catch(e){return i.NextResponse.json({success:!1,error:"Invalid request"},{status:400})}}let c=new a.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/device/route",pathname:"/api/device",filename:"route",bundlePath:"app/api/device/route"},resolvedPagePath:"C:\\Users\\Mtlantla\\Desktop\\EmberCore\\Dev_RP3_c\\Node-APPS\\iot-application\\app\\api\\device\\route.ts",nextConfigOutput:"",userland:r}),{workAsyncStorage:l,workUnitAsyncStorage:g,serverHooks:m}=c;function x(){return(0,o.patchFetch)({workAsyncStorage:l,workUnitAsyncStorage:g})}},78335:()=>{},96487:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[7719,580],()=>s(64252));module.exports=r})();