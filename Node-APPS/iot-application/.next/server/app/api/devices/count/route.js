"use strict";(()=>{var e={};e.id=2223,e.ids=[2223],e.modules={3295:e=>{e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},12412:e=>{e.exports=require("assert")},12518:e=>{e.exports=require("mongodb")},27910:e=>{e.exports=require("stream")},28354:e=>{e.exports=require("util")},29021:e=>{e.exports=require("fs")},29294:e=>{e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{e.exports=require("path")},37425:(e,r,t)=>{t.r(r),t.d(r,{patchFetch:()=>I,routeModule:()=>q,serverHooks:()=>P,workAsyncStorage:()=>w,workUnitAsyncStorage:()=>E});var s={};t.r(s),t.d(s,{GET:()=>f});var o=t(96559),n=t(48088),i=t(37719),c=t(32190),a=t(79646),u=t(28354),p=t(99999);let l=(0,u.promisify)(a.exec);function d(){return{wifi:5,bluetooth:3,ethernet:2,i2c:4,spi:2,sensors:8}}async function x(){try{let{stdout:e}=await l('nmcli device status | grep -c "wifi.*connected"');return parseInt(e.trim(),10)||0}catch(e){return console.error("Error counting WiFi devices:",e),0}}async function h(){try{let{stdout:e}=await l("bluetoothctl devices | wc -l");return parseInt(e.trim(),10)||0}catch(e){return console.error("Error counting Bluetooth devices:",e),0}}async function v(){try{let{stdout:e}=await l('ip -br link | grep -c "eth[0-9].*UP"');return parseInt(e.trim(),10)||0}catch(e){return console.error("Error counting Ethernet devices:",e),0}}async function m(){try{let e=(0,p.G)();e.isInitialized()||await e.initialize();let r=await e.getStatus(),t=0;return r.i2c.devices&&Object.keys(r.i2c.devices).forEach(e=>{t+=r.i2c.devices?.[e]?.length||0}),t}catch(e){return console.error("Error counting I2C devices:",e),0}}async function g(){try{let e=(0,p.G)();e.isInitialized()||await e.initialize();let r=await e.getStatus();return r.spi.devices?.length||0}catch(e){return console.error("Error counting SPI devices:",e),0}}async function y(){try{let[e,r]=await Promise.all([l('ls /sys/class/thermal | grep -c "thermal_zone"'),l('command -v sensors && sensors | grep -c "Adapter" || echo "0"')]),t=parseInt(e.stdout.trim(),10)||0,s=parseInt(r.stdout.trim(),10)||0;return t+s}catch(e){return console.error("Error counting sensors:",e),0}}async function f(e){try{if("true"===process.env.NEXT_PUBLIC_V0_PREVIEW)return c.NextResponse.json({success:!0,counts:d()});let[e,r,t,s,o,n]=await Promise.all([x(),h(),v(),m(),g(),y()]);return c.NextResponse.json({success:!0,counts:{wifi:e,bluetooth:r,ethernet:t,i2c:s,spi:o,sensors:n}})}catch(e){return console.error("Error in device count API:",e),c.NextResponse.json({success:!0,counts:d()})}}let q=new o.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/devices/count/route",pathname:"/api/devices/count",filename:"route",bundlePath:"app/api/devices/count/route"},resolvedPagePath:"C:\\Users\\Mtlantla\\Desktop\\EmberCore\\Dev_RP3_c\\Node-APPS\\iot-application\\app\\api\\devices\\count\\route.ts",nextConfigOutput:"",userland:s}),{workAsyncStorage:w,workUnitAsyncStorage:E,serverHooks:P}=q;function I(){return(0,i.patchFetch)({workAsyncStorage:w,workUnitAsyncStorage:E})}},44870:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},55511:e=>{e.exports=require("crypto")},55591:e=>{e.exports=require("https")},63033:e=>{e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{e.exports=require("zlib")},79428:e=>{e.exports=require("buffer")},79551:e=>{e.exports=require("url")},79646:e=>{e.exports=require("child_process")},81630:e=>{e.exports=require("http")},83997:e=>{e.exports=require("tty")},94735:e=>{e.exports=require("events")}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[7719,580,2326,4507],()=>t(37425));module.exports=s})();