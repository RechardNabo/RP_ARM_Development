(()=>{var e={};e.id=2873,e.ids=[2873],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},28354:e=>{"use strict";e.exports=require("util")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},78335:()=>{},79646:e=>{"use strict";e.exports=require("child_process")},86061:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>v,routeModule:()=>h,serverHooks:()=>x,workAsyncStorage:()=>k,workUnitAsyncStorage:()=>f});var n={};r.r(n),r.d(n,{GET:()=>d});var s=r(96559),o=r(48088),i=r(37719),a=r(32190),c=r(79646);let u=(0,r(28354).promisify)(c.exec);function p(){return{wifi:{connected:!0,ssid:"CM4_Network",ipAddress:"192.168.1.105",signalStrength:-58},ethernet:{connected:!0,ipAddress:"192.168.1.100",speed:"1 Gbps"},internet:{connected:!0,status:"Online",ping:24}}}async function d(e){try{if("preview"===process.env.NEXT_PUBLIC_VERCEL_ENV)return a.NextResponse.json({success:!0,networkStatus:p()});let e=await l(),t=await w(),r=await g();return a.NextResponse.json({success:!0,networkStatus:{wifi:e,ethernet:t,internet:r}})}catch(e){return console.error("Error fetching network status:",e),a.NextResponse.json({success:!1,networkStatus:p(),error:e instanceof Error?e.message:"Unknown error"})}}async function l(){try{let{stdout:e}=await u("nmcli -t -f DEVICE,STATE,CONNECTION device | grep wlan0");if(!e||!e.includes("connected"))return{connected:!1};let{stdout:t}=await u("iwconfig wlan0 | grep ESSID"),r=t.match(/ESSID:"([^"]*)"/),n=r?r[1]:"Unknown",{stdout:s}=await u("ip addr show wlan0 | grep \"inet \" | awk '{print $2}' | cut -d/ -f1"),o=s.trim()||"Not assigned",{stdout:i}=await u('iwconfig wlan0 | grep -i --color=never "Signal level"'),a=i.match(/Signal level=(-\d+)/),c=a?parseInt(a[1]):null;return{connected:!0,ssid:n,ipAddress:o,signalStrength:c}}catch(e){return console.error("Error getting Wi-Fi status:",e),{connected:!1}}}async function w(){try{let{stdout:e}=await u('ip link show eth0 | grep "state UP"');if(!e.includes("state UP"))return{connected:!1};let{stdout:t}=await u("ip addr show eth0 | grep \"inet \" | awk '{print $2}' | cut -d/ -f1"),r=t.trim()||"Not assigned",{stdout:n}=await u('cat /sys/class/net/eth0/speed 2>/dev/null || echo "Unknown"'),s=n.trim(),o="Unknown"!==s?`${s} Mbps`:"Unknown";return{connected:!0,ipAddress:r,speed:o}}catch(e){return console.error("Error getting Ethernet status:",e),{connected:!1}}}async function g(){try{let{stdout:e}=await u("ping -c 1 8.8.8.8"),t=e.match(/time=(\d+(\.\d+)?)/),r=t?parseFloat(t[1]):null;return{connected:!0,status:"Online",ping:r}}catch(e){return console.error("Error checking internet connectivity:",e),{connected:!1,status:"Offline",ping:null}}}let h=new s.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/network/status/route",pathname:"/api/network/status",filename:"route",bundlePath:"app/api/network/status/route"},resolvedPagePath:"C:\\Users\\Mtlantla\\Desktop\\EmberCore\\Dev_RP3_c\\Node-APPS\\iot-application\\app\\api\\network\\status\\route.ts",nextConfigOutput:"",userland:n}),{workAsyncStorage:k,workUnitAsyncStorage:f,serverHooks:x}=h;function v(){return(0,i.patchFetch)({workAsyncStorage:k,workUnitAsyncStorage:f})}},96487:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[7719,580],()=>r(86061));module.exports=n})();